<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <meta http-equiv="X-UA-Compatible" content="IE=edge" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>PakiMemo</title>
    <link rel="stylesheet" href="./styles.css" />
    <style>
      #loginCad {
        width: 260px;
      }
      #idEmail {
        width: 160px;
        margin-bottom: 5px;
      }
      #senhaCad {
        width: 180px;
      }
      #lisSelProd {
        width: 370px;
      }
      #selProduto {
        width: 75%;
        margin-bottom: 5px;
      }
      #btnIncluir {
        width: 70px;
      }
      #boxPedidos {
        height: 100px;
      }
      #lisPedArea {
        height: 90%;
        width: 100%;
      }
      #boxValor {
        margin-top: 5px;
      }
      #fsBandeira {
        height: 80px;
        width: 80px;
        text-align: left;
      }
      #numCartao {
        width: 350px;
        height: 35px;
        padding-top: 10px;
      }
      #numCartao .inputSmall {
        width: 50px;
        margin-right: 3px;
      }
      #valCartao {
        width: 230px;
        height: 35px;
      }
      #boxParcel {
        width: 230px;
        height: 30px;
      }
    </style>
  </head>
  <body>
    <header>
      <img
        class="imgLogo"
        src="./Imagens/PakiLogoTopo.png"
        alt="Logo com um elefante"
      />
      <address class="ender">
        <p>Rua do Poço do Elefantinho, 123</p>
        <p>Tel: (21)4321-5678</p>
        <a href="mailto:contato@paquiderme.com.br">contato@paquiderme.com.br</a>
      </address>
    </header>
    <nav>
      <ul>
        <li>
          <a href="./PakiMemo.html">INICIAL</a>
        </li>
        <li>
          <a href="./Memorias.html">MEMÓRIAS</a>
        </li>
        <li>
          <a href="./Discos.html">HDs / SSDs</a>
        </li>
        <li>
          <a href="./Cadastro.html">CADASTRO</a>
        </li>
        <li>
          <a href="./Compras.html">COMPRAS</a>
        </li>
      </ul>
    </nav>
    <section>
      <form class="FormBox">
        <h2>Compras</h2>
        <fieldset class="FSLinhaInteira">
          <legend>Identificação</legend>
          <div id="loginCad" class="ColEsq">
            <label class="LabBox">E-mail:</label>
            <input type="email" id="idEmail" class="InpBoxGnd" type="text" />
          </div>
          <div id="senhaCad" class="ColDir">
            <label>Senha:</label>
            <input class="InpBoxMed" type="password" />
          </div>
          <div id="lisSelProd" class="ColEsq">
            <i>Se você ainda não tem cadastro clique <a href="./Cadastro.html">aqui</a>!</i>
          </div>
        </fieldset>
        <fieldset class="FSLinhaInteira">
          <legend>Lista de Compras</legend>
          <div id="lisSelProd" class="ColEsq">
            <label class="LabBox">Produtos:</label>
            <select id="selProduto" class="InpBoxGnd">
              <option value="0">-----</option>
              <optgroup label="Memória DDR3">
                <option value="200">Kingston 4Gb</option>

                <option value="190">Samsung 8Gb</option>
              </optgroup>

              <optgroup label="Memória DDR4">
                <option value="298">Kingston Fury 8Gb</option>

                <option value="248">Corsair Vengeance 8GB</option>
              </optgroup>

              <optgroup label="HD Sata III">
                <option value="170">Western Digital 500Gb</option>

                <option value="350">Seagate 1Tb</option>
              </optgroup>

              <optgroup label="SSD Sata III">
                <option value="380">Samdisk 480Gb</option>

                <option value="700">Kingston 960Gb</option>
              </optgroup>

              <optgroup label="SSD M2">
                <option value="410">Kingston 500Gb</option>

                <option value="270">Samsung 240Gb</option>
              </optgroup>
            </select>
          </div>
          <input onclick="incluir()" type="button" value="Incluir" id="btnIncluir" class="ColDir" />
          <div id="boxPedidos" class="LinhaForm">
            <textarea readonly id="lisPedArea" class="InpBoxGnd"></textarea>
          </div>
          <div id="boxValor" class="ColDir">
            <label>Valor: R$</label>
            <input readonly id="vlrTotal" class="InpBoxMed" type="number" value="0" />
          </div>
        </fieldset>
        <fieldset class="FSLinhaInteira">
          <legend>Dados do Cartão</legend>
          <div class="ColEsq">
            <div id="numCartao">
              <label class="LabBox">Número:</label>
              <input class="inputSmall" type="number" min="0000" max="9999" />
              <input class="inputSmall" type="number" min="0000" max="9999" />
              <input class="inputSmall" type="number" min="0000" max="9999" />
              <input class="inputSmall" type="number" min="0000" max="9999" />
            </div>
            <div id="valCartao">
              <label class="LabBox">Validade:</label>
              <input class="numDD" min="1" max="12" type="number" />
              <label>/</label>
              <input class="numQD" min="2022" max="2202" type="number" />
            </div>
            <div id="boxParcel">
              <label class="LabBox">Parcelas:</label>
              <input class="numDD" min="1" max="18" type="number" />
              <label>x Sem Juros</label>
            </div>
          </div>
          <fieldset id="fsBandeira" class="FSColDir">
            <legend>Bandeira:</legend>
            <input type="radio" name="bandeira bancaria" value="visa" />
            <label for="Choice1">Visa</label>
            <input type="radio" name="bandeira bancaria" value="master" />
            <label for="Choice2">Master</label>
            <input type="radio" name="bandeira bancaria" value="elo" />
            <label for="Choice3">Elo</label>
          </fieldset>
        </fieldset>
        <div class="botoes">
          <input onclick="confirmarCompra()" type="button" value="Confirmar" id="btnComprar"  class="ColDir" />
          <button>Limpar</button>
        </div>
      </form>
    </section>
    <script>
      function incluir() {        
        let selProduto = document.getElementById("selProduto");
        let indexProd = selProduto.selectedIndex;

        if (indexProd != 0) {
          let option = selProduto.options[indexProd];
          let optGroup = option.parentNode.label;
          let novaDescricao = optGroup + " " + option.text;
          let preco = selProduto.value;

          let lisPedArea = document.getElementById("lisPedArea");
          let vlrTotal = document.getElementById("vlrTotal");

          let total = vlrTotal.value > 0 ? parseInt(vlrTotal.value) : 0;
         
          lisPedArea.value = lisPedArea.value + novaDescricao + "\n";
          vlrTotal.value = total + parseInt(preco);
          selProduto.selectedIndex = 0;

        } else {
          alert("Nenhum Produto selecionado!");
        }
      }
      
      function confirmarCompra() {        
        let vlrTotal = document.getElementById("vlrTotal");
        vlrTotal.value == 0 ? alert("Nenhum Produto selecionado!") : location.reload()
      }
    </script>
  </body>
</html>
